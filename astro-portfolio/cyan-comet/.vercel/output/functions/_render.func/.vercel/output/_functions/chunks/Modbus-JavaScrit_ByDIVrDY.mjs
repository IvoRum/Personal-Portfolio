const id = "Modbus-JavaScrit.md";
						const collection = "blog";
						const slug = "modbus-javascrit";
						const body = "\r\n## What is Modbus and Why JavaScript?\r\n\r\nModbus is a client/server data communications protocol used in the application layer. It was originally published by Modicon (now Schneider Electric) in 1979 for use with its programmable logic controllers (PLCs). It is an old communication protocol used exclusively to connect various machine parts together. And what does this protocol, mainly used with PLCs, have to do with JavaScript? Well, recently I was contacted to make a user interface to interact with Modbus-connected devices. I didnâ€™t have a lot of time to work on this request, so I started reading on the topic of Modbus and found a JavaScript library that can read from it via network or serial ports. So why not have a JS-based user interface? After testing the library, it worked like a charm.\r\n\r\n## Implementation\r\n\r\nFor this project to work, I created an Electron project. Electron is a framework that lets you create desktop apps with web technologies like HTML, CSS, and JavaScript. I chose Electron because I had never used it and thought, well, let's give it a shot.\r\n\r\nCreating an Electron project is easy:\r\n\r\n```\r\nmkdir my-electron-app && cd my-electron-app\r\nnpm init\r\n```\r\n\r\nThen, install the Electron package into your app's devDependencies.\r\n\r\n```\r\nnpm install --save-dev electron\r\n```\r\n\r\nThen just add this script to the `package.json`:\r\n\r\n```\r\n{\r\n  \"scripts\": {\r\n    \"start\": \"electron .\"\r\n  }\r\n}\r\n```\r\n\r\nAfter this is all done, to run Electron just type:\r\n\r\n```\r\nnpm start\r\n```\r\n\r\nElectron Quick Start: [https://www.electronjs.org/docs/latest/tutorial/quick-start](https://www.electronjs.org/docs/latest/tutorial/quick-start)\r\n\r\nAnd now for the Modbus library:\r\n\r\n```\r\nnpm i modbus-serial\r\n```\r\n\r\nTo test it out, use this script provided by the creator of the library:\r\n\r\n```javascript\r\n// create an empty modbus client\r\nconst ModbusRTU = require(\"modbus-serial\");\r\nconst client = new ModbusRTU();\r\n\r\n// open connection to a serial port\r\n// use COM for Windows\r\nclient.connectRTUBuffered(\r\n  \"/dev/ttyUSB0\",\r\n  { baudRate: 9600 },\r\n  write\r\n);\r\n\r\nfunction write() {\r\n  client.setID(1);\r\n\r\n  // write the values 0, 0xffff to registers starting at address 5\r\n  // on device number 1.\r\n  client.writeRegisters(5, [0, 0xffff]).then(read);\r\n}\r\n\r\nfunction read() {\r\n  // read the 2 registers starting at address 5\r\n  // on device number 1.\r\n  client.readHoldingRegisters(5, 2).then(console.log);\r\n}\r\n```\r\n\r\nWhere the number 1 in `client.setID(1)` is the device number you want to access. On the device, under the settings, you will be able to change this client ID. In Siemens' case, this is named _Address_.\r\n\r\n![Access Token](/blog/modbus-js/image.png)\r\n\r\nAnd make sure that the baud rate set in:\r\n\r\n```javascript\r\nclient.connectRTUBuffered(\r\n  \"/dev/ttyUSB0\",\r\n  { baudRate: 9600 },\r\n  write\r\n);\r\n```\r\n\r\nmatches the one on the device.\r\n\r\nThen in the `client.readHoldingRegisters(5, 2)` set the first number to the address you want to access on the device and the second parameter to the length which should be specified in the documentation.\r\n\r\nAfter that, you are all set to create a user interface for communication with Modbus. Have fun programming!\r\n\r\n## Demo Coming Soon!!\r\n\r\n## Sources\r\n\r\n- [https://www.npmjs.com/package/modbus-serial](https://www.npmjs.com/package/modbus-serial)\r\n- [https://cache.industry.siemens.com/dl/files/781/19020781/att_1007699/v1/modbus_users_guide_2000584-001.pdf](https://cache.industry.siemens.com/dl/files/781/19020781/att_1007699/v1/modbus_users_guide_2000584-001.pdf)\r\n- [https://www.electronjs.org/docs/latest/](https://www.electronjs.org/docs/latest/)\r\n";
						const data = {title:"Modbus and JavaScript",description:"How to use Modbus with JavaScript",pubDate:new Date(1714856400000),heroImage:"/blog/modbus-js/blog-modbus.png"};
						const _internal = {
							type: 'content',
							filePath: "C:/tomcats/Personal-Portfolio/astro-portfolio/cyan-comet/src/content/blog/Modbus-JavaScrit.md",
							rawData: undefined,
						};

export { _internal, body, collection, data, id, slug };
